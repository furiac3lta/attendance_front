<mat-card class="attendance-container">

  <h2>Clases de {{ selectedCourseName }}</h2>
  <p class="date-label">{{ currentDate }}</p>

  <div class="actions">
    <button mat-raised-button color="primary" (click)="createClass()">
      Crear nueva clase
    </button>
  </div>

  <button mat-stroked-button color="accent" class="report-btn" (click)="goToReport()">
    Ver reporte mensual
  </button>

  <mat-divider></mat-divider>

  <div *ngIf="classes.length === 0" class="no-classes">
    ⚠️ Este curso no tiene clases creadas todavía.
  </div>

  <mat-list *ngIf="classes.length > 0" class="class-list">
    <mat-list-item *ngFor="let c of classes" class="class-item">

      <span class="class-text">
        {{ c.name }} - {{ c.date | date:'dd/MM/yyyy' }}
      </span>

      <span class="spacer"></span>

      <!-- Tomar asistencia -->
      <button mat-raised-button color="primary" *ngIf="!c.attendanceTaken"
              (click)="goToAttendance(c.id)">
        Tomar asistencia
      </button>

      <!-- Editar asistencia -->
      <button mat-raised-button color="warn" *ngIf="c.attendanceTaken"
              (click)="goToAttendance(c.id)">
        Editar asistencia
      </button>

    </mat-list-item>
  </mat-list>

  <p *ngIf="message" class="message">{{ message }}</p>

</mat-card>
